# IBM i PTF SQL Queries Reference

Complete reference for querying PTF information using SQL Services (QSYS2).

---

## Schema Discovery Queries

Use these queries to discover available tables and columns.

### List All QSYS2 Views/Tables

```sql
SELECT TABLE_NAME, TABLE_TEXT
FROM QSYS2.SYSTABLES
WHERE TABLE_SCHEMA = 'QSYS2'
  AND TABLE_NAME LIKE '%PTF%'
ORDER BY TABLE_NAME
```

### List All Columns in a Table

```sql
SELECT COLUMN_NAME, DATA_TYPE, LENGTH, NUMERIC_SCALE, IS_NULLABLE, COLUMN_TEXT
FROM QSYS2.SYSCOLUMNS
WHERE TABLE_SCHEMA = 'QSYS2'
  AND TABLE_NAME = 'PTF_INFO'
ORDER BY ORDINAL_POSITION
```

### Get Column Details for All PTF Tables

```sql
SELECT TABLE_NAME, COLUMN_NAME, DATA_TYPE, LENGTH, COLUMN_TEXT
FROM QSYS2.SYSCOLUMNS
WHERE TABLE_SCHEMA = 'QSYS2'
  AND TABLE_NAME LIKE '%PTF%'
ORDER BY TABLE_NAME, ORDINAL_POSITION
```

### List All Available SQL Services

```sql
SELECT TABLE_NAME, TABLE_TEXT
FROM QSYS2.SYSTABLES
WHERE TABLE_SCHEMA = 'QSYS2'
  AND TABLE_TYPE = 'VIEW'
ORDER BY TABLE_NAME
```

### Search for Tables by Keyword

```sql
SELECT TABLE_NAME, TABLE_TEXT
FROM QSYS2.SYSTABLES
WHERE TABLE_SCHEMA = 'QSYS2'
  AND (TABLE_NAME LIKE '%keyword%' OR UPPER(TABLE_TEXT) LIKE '%KEYWORD%')
ORDER BY TABLE_NAME
```

### Get Sample Row from Any Table

```sql
SELECT * FROM QSYS2.PTF_INFO FETCH FIRST 1 ROW ONLY
```

---

## PTF Tables Overview

| Table | Description |
|-------|-------------|
| `QSYS2.PTF_INFO` | Main PTF status and metadata |
| `QSYS2.PTF_OBJECT` | Objects contained in PTFs |
| `QSYS2.PTF_REQUISITE` | PTF prerequisites and corequisites |
| `QSYS2.PTF_GROUP_INFO` | PTF group information |
| `QSYS2.PTF_GROUP_DETAILS` | PTFs within each group |

---

## QSYS2.PTF_INFO Columns

Query to get current columns:
```sql
SELECT COLUMN_NAME, DATA_TYPE, LENGTH, COLUMN_TEXT
FROM QSYS2.SYSCOLUMNS
WHERE TABLE_SCHEMA = 'QSYS2' AND TABLE_NAME = 'PTF_INFO'
ORDER BY ORDINAL_POSITION
```

Common columns:
| Column | Description |
|--------|-------------|
| `PTF_IDENTIFIER` | PTF ID (e.g., SI82745) |
| `PTF_PRODUCT_ID` | Product ID (e.g., 5770SS1) |
| `PTF_LOADED_STATUS` | Status: LOADED, APPLIED, PERMANENTLY APPLIED, SUPERSEDED, NOT LOADED |
| `PTF_IPL_ACTION` | Action at next IPL |
| `PTF_ACTION_PENDING` | Pending action |
| `PTF_ACTION_REQUIRED` | Required action |
| `PTF_IPL_REQUIRED` | YES/NO if IPL needed |
| `PTF_CREATION_TIMESTAMP` | When PTF was created |
| `PTF_STATUS_TIMESTAMP` | When status last changed |
| `PTF_SAVE_FILE` | Save file name |
| `PTF_SAVE_FILE_LIBRARY` | Save file library |
| `PTF_PRODUCT_OPTION` | Product option |
| `PTF_PRODUCT_LOAD` | Product load |
| `PTF_RELEASE_LEVEL` | Release level |
| `PTF_MINIMUM_LEVEL` | Minimum level |
| `PTF_MAXIMUM_LEVEL` | Maximum level |
| `PTF_SUPERSEDED_BY_PTF` | PTF that supersedes this one |

---

## QSYS2.PTF_OBJECT Columns

Query to get current columns:
```sql
SELECT COLUMN_NAME, DATA_TYPE, LENGTH, COLUMN_TEXT
FROM QSYS2.SYSCOLUMNS
WHERE TABLE_SCHEMA = 'QSYS2' AND TABLE_NAME = 'PTF_OBJECT'
ORDER BY ORDINAL_POSITION
```

Common columns:
| Column | Description |
|--------|-------------|
| `PTF_IDENTIFIER` | PTF ID |
| `PTF_PRODUCT_ID` | Product ID |
| `LIBRARY_NAME` | Library containing the object |
| `OBJECT_NAME` | Object name |
| `OBJECT_TYPE` | Object type (*PGM, *SRVPGM, etc.) |
| `PTF_LOADED_STATUS` | Status of this object |

---

## QSYS2.PTF_REQUISITE Columns

Query to get current columns:
```sql
SELECT COLUMN_NAME, DATA_TYPE, LENGTH, COLUMN_TEXT
FROM QSYS2.SYSCOLUMNS
WHERE TABLE_SCHEMA = 'QSYS2' AND TABLE_NAME = 'PTF_REQUISITE'
ORDER BY ORDINAL_POSITION
```

Common columns:
| Column | Description |
|--------|-------------|
| `PTF_IDENTIFIER` | PTF ID |
| `PTF_PRODUCT_ID` | Product ID |
| `REQUISITE_PTF_ID` | Required PTF ID |
| `REQUISITE_PRODUCT_ID` | Required product ID |
| `REQUISITE_TYPE` | PREREQ, COREQ, DISREQ |
| `REQUISITE_LOADED_STATUS` | Status of requisite |
| `REQUISITE_IS_REQUIRED` | Whether required |

---

## QSYS2.PTF_GROUP_INFO Columns

Query to get current columns:
```sql
SELECT COLUMN_NAME, DATA_TYPE, LENGTH, COLUMN_TEXT
FROM QSYS2.SYSCOLUMNS
WHERE TABLE_SCHEMA = 'QSYS2' AND TABLE_NAME = 'PTF_GROUP_INFO'
ORDER BY ORDINAL_POSITION
```

Common columns:
| Column | Description |
|--------|-------------|
| `PTF_GROUP_NAME` | Group name (e.g., SF99730) |
| `PTF_GROUP_DESCRIPTION` | Description |
| `PTF_GROUP_LEVEL` | Level number |
| `PTF_GROUP_STATUS` | INSTALLED, NOT INSTALLED, etc. |
| `PTF_GROUP_STATUS_TIMESTAMP` | When status changed |

---

## QSYS2.PTF_GROUP_DETAILS Columns

Query to get current columns:
```sql
SELECT COLUMN_NAME, DATA_TYPE, LENGTH, COLUMN_TEXT
FROM QSYS2.SYSCOLUMNS
WHERE TABLE_SCHEMA = 'QSYS2' AND TABLE_NAME = 'PTF_GROUP_DETAILS'
ORDER BY ORDINAL_POSITION
```

---

## PTF Status Queries

### List All PTFs for a Product

```sql
SELECT PTF_IDENTIFIER, PTF_LOADED_STATUS, PTF_IPL_ACTION, PTF_SAVE_FILE
FROM QSYS2.PTF_INFO
WHERE PTF_PRODUCT_ID = '5770SS1'
ORDER BY PTF_IDENTIFIER
```

### Find a Specific PTF

```sql
SELECT *
FROM QSYS2.PTF_INFO
WHERE PTF_IDENTIFIER = 'SI82745'
```

### PTFs Requiring IPL

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, PTF_LOADED_STATUS, PTF_IPL_REQUIRED
FROM QSYS2.PTF_INFO
WHERE PTF_IPL_REQUIRED = 'YES'
```

### PTFs with Pending Actions

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, PTF_IPL_ACTION, PTF_ACTION_PENDING
FROM QSYS2.PTF_INFO
WHERE PTF_ACTION_PENDING <> 'NONE'
```

### Superseded PTFs

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, PTF_SUPERSEDED_BY_PTF
FROM QSYS2.PTF_INFO
WHERE PTF_SUPERSEDED_BY_PTF IS NOT NULL
```

### PTF Count by Status

```sql
SELECT PTF_PRODUCT_ID, PTF_LOADED_STATUS, COUNT(*) AS COUNT
FROM QSYS2.PTF_INFO
GROUP BY PTF_PRODUCT_ID, PTF_LOADED_STATUS
ORDER BY PTF_PRODUCT_ID, PTF_LOADED_STATUS
```

### Recently Applied PTFs

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, PTF_LOADED_STATUS, PTF_STATUS_TIMESTAMP
FROM QSYS2.PTF_INFO
WHERE PTF_STATUS_TIMESTAMP > CURRENT_TIMESTAMP - 30 DAYS
ORDER BY PTF_STATUS_TIMESTAMP DESC
```

### Temporarily Applied PTFs (Not Permanent)

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, PTF_STATUS_TIMESTAMP
FROM QSYS2.PTF_INFO
WHERE PTF_LOADED_STATUS = 'APPLIED'
ORDER BY PTF_PRODUCT_ID
```

### PTFs by Release Level

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, PTF_RELEASE_LEVEL, PTF_LOADED_STATUS
FROM QSYS2.PTF_INFO
WHERE PTF_PRODUCT_ID = '5770SS1'
ORDER BY PTF_RELEASE_LEVEL, PTF_IDENTIFIER
```

### Loaded But Not Applied

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, PTF_SAVE_FILE
FROM QSYS2.PTF_INFO
WHERE PTF_LOADED_STATUS = 'LOADED'
ORDER BY PTF_PRODUCT_ID, PTF_IDENTIFIER
```

---

## PTF Object Queries

### List All Objects in a PTF

```sql
SELECT LIBRARY_NAME, OBJECT_NAME, OBJECT_TYPE, PTF_LOADED_STATUS
FROM QSYS2.PTF_OBJECT
WHERE PTF_IDENTIFIER = 'SI82745'
ORDER BY LIBRARY_NAME, OBJECT_NAME
```

### Find PTFs Affecting a Specific Object

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, LIBRARY_NAME, OBJECT_NAME, OBJECT_TYPE
FROM QSYS2.PTF_OBJECT
WHERE OBJECT_NAME = 'QZDASOINIT'
ORDER BY PTF_IDENTIFIER
```

### Find PTFs Affecting a Specific Library

```sql
SELECT PTF_IDENTIFIER, OBJECT_NAME, OBJECT_TYPE, PTF_LOADED_STATUS
FROM QSYS2.PTF_OBJECT
WHERE LIBRARY_NAME = 'QSYS'
ORDER BY PTF_IDENTIFIER, OBJECT_NAME
```

### Count of Objects per PTF

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, COUNT(*) AS OBJECT_COUNT
FROM QSYS2.PTF_OBJECT
GROUP BY PTF_IDENTIFIER, PTF_PRODUCT_ID
ORDER BY OBJECT_COUNT DESC
FETCH FIRST 50 ROWS ONLY
```

### PTFs with Program Objects

```sql
SELECT PTF_IDENTIFIER, LIBRARY_NAME, OBJECT_NAME
FROM QSYS2.PTF_OBJECT
WHERE OBJECT_TYPE = '*PGM'
ORDER BY PTF_IDENTIFIER
```

### PTFs with Service Programs

```sql
SELECT PTF_IDENTIFIER, LIBRARY_NAME, OBJECT_NAME
FROM QSYS2.PTF_OBJECT
WHERE OBJECT_TYPE = '*SRVPGM'
ORDER BY PTF_IDENTIFIER
```

### Find Object by Pattern

```sql
SELECT PTF_IDENTIFIER, LIBRARY_NAME, OBJECT_NAME, OBJECT_TYPE
FROM QSYS2.PTF_OBJECT
WHERE OBJECT_NAME LIKE 'QDB%'
ORDER BY OBJECT_NAME, PTF_IDENTIFIER
```

---

## PTF Requisite Queries

### Prerequisites for a PTF

```sql
SELECT REQUISITE_PTF_ID, REQUISITE_PRODUCT_ID, REQUISITE_TYPE, REQUISITE_LOADED_STATUS
FROM QSYS2.PTF_REQUISITE
WHERE PTF_IDENTIFIER = 'SI82745'
ORDER BY REQUISITE_TYPE, REQUISITE_PTF_ID
```

### What PTFs Require This PTF

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, REQUISITE_TYPE
FROM QSYS2.PTF_REQUISITE
WHERE REQUISITE_PTF_ID = 'SI82745'
ORDER BY PTF_IDENTIFIER
```

### Missing Prerequisites

```sql
SELECT PTF_IDENTIFIER, REQUISITE_PTF_ID, REQUISITE_PRODUCT_ID, REQUISITE_TYPE
FROM QSYS2.PTF_REQUISITE
WHERE REQUISITE_LOADED_STATUS = 'NOT LOADED'
```

### Corequisites Only

```sql
SELECT PTF_IDENTIFIER, REQUISITE_PTF_ID, REQUISITE_LOADED_STATUS
FROM QSYS2.PTF_REQUISITE
WHERE REQUISITE_TYPE = 'COREQ'
```

### Distribution Requisites

```sql
SELECT PTF_IDENTIFIER, REQUISITE_PTF_ID, REQUISITE_TYPE
FROM QSYS2.PTF_REQUISITE
WHERE REQUISITE_TYPE = 'DISREQ'
```

### Full Requisite Chain

```sql
WITH RECURSIVE PTF_CHAIN (PTF_ID, REQ_PTF, REQ_TYPE, LEVEL) AS (
    SELECT PTF_IDENTIFIER, REQUISITE_PTF_ID, REQUISITE_TYPE, 1
    FROM QSYS2.PTF_REQUISITE
    WHERE PTF_IDENTIFIER = 'SI82745'
    UNION ALL
    SELECT r.PTF_IDENTIFIER, r.REQUISITE_PTF_ID, r.REQUISITE_TYPE, c.LEVEL + 1
    FROM QSYS2.PTF_REQUISITE r
    JOIN PTF_CHAIN c ON r.PTF_IDENTIFIER = c.REQ_PTF
    WHERE c.LEVEL < 5
)
SELECT * FROM PTF_CHAIN ORDER BY LEVEL, PTF_ID
```

---

## PTF Group Queries

### List All PTF Groups

```sql
SELECT PTF_GROUP_NAME, PTF_GROUP_DESCRIPTION, PTF_GROUP_LEVEL, PTF_GROUP_STATUS
FROM QSYS2.PTF_GROUP_INFO
ORDER BY PTF_GROUP_NAME
```

### PTF Group Status

```sql
SELECT PTF_GROUP_NAME, PTF_GROUP_LEVEL, PTF_GROUP_STATUS, PTF_GROUP_STATUS_TIMESTAMP
FROM QSYS2.PTF_GROUP_INFO
WHERE PTF_GROUP_STATUS <> 'INSTALLED'
```

### Cumulative PTF Groups

```sql
SELECT PTF_GROUP_NAME, PTF_GROUP_DESCRIPTION, PTF_GROUP_LEVEL
FROM QSYS2.PTF_GROUP_INFO
WHERE PTF_GROUP_NAME LIKE 'SF99%'
ORDER BY PTF_GROUP_NAME
```

---

## PTF Group Detail Queries

### PTFs in a Specific Group

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, PTF_LOADED_STATUS
FROM QSYS2.PTF_GROUP_DETAILS
WHERE PTF_GROUP_NAME = 'SF99730'
ORDER BY PTF_IDENTIFIER
```

### Missing PTFs in a Group

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID
FROM QSYS2.PTF_GROUP_DETAILS
WHERE PTF_GROUP_NAME = 'SF99730'
  AND PTF_LOADED_STATUS NOT IN ('APPLIED', 'PERMANENTLY APPLIED', 'SUPERSEDED')
```

### Group Completion Status

```sql
SELECT PTF_GROUP_NAME,
       COUNT(*) AS TOTAL_PTFS,
       SUM(CASE WHEN PTF_LOADED_STATUS IN ('APPLIED', 'PERMANENTLY APPLIED', 'SUPERSEDED')
           THEN 1 ELSE 0 END) AS INSTALLED,
       SUM(CASE WHEN PTF_LOADED_STATUS NOT IN ('APPLIED', 'PERMANENTLY APPLIED', 'SUPERSEDED')
           THEN 1 ELSE 0 END) AS MISSING
FROM QSYS2.PTF_GROUP_DETAILS
GROUP BY PTF_GROUP_NAME
ORDER BY PTF_GROUP_NAME
```

---

## Save File Queries

### Find PTF Save Files in QGPL

```sql
SELECT OBJNAME, OBJTYPE, OBJSIZE, OBJCREATED
FROM TABLE(QSYS2.OBJECT_STATISTICS('QGPL', '*FILE'))
WHERE OBJNAME LIKE 'Q%'
  AND OBJATTRIBUTE = 'SAVF'
ORDER BY OBJCREATED DESC
FETCH FIRST 100 ROWS ONLY
```

### Save File Details for a PTF

```sql
SELECT OBJNAME, OBJSIZE, OBJCREATED, LAST_USED_TIMESTAMP
FROM TABLE(QSYS2.OBJECT_STATISTICS('QGPL', '*FILE', 'QSI82745J1'))
```

### All Save Files with Size

```sql
SELECT OBJNAME, OBJSIZE, OBJCREATED, LAST_USED_TIMESTAMP, OBJOWNER
FROM TABLE(QSYS2.OBJECT_STATISTICS('QGPL', '*FILE'))
WHERE OBJATTRIBUTE = 'SAVF'
ORDER BY OBJSIZE DESC
FETCH FIRST 50 ROWS ONLY
```

### Orphaned Save Files (No Matching PTF)

```sql
SELECT s.OBJNAME, s.OBJSIZE, s.OBJCREATED
FROM TABLE(QSYS2.OBJECT_STATISTICS('QGPL', '*FILE')) s
LEFT JOIN QSYS2.PTF_INFO p ON s.OBJNAME = p.PTF_SAVE_FILE
WHERE s.OBJATTRIBUTE = 'SAVF'
  AND s.OBJNAME LIKE 'Q%'
  AND p.PTF_IDENTIFIER IS NULL
ORDER BY s.OBJCREATED
```

---

## Combined/Join Queries

### Full PTF Report with Objects

```sql
SELECT p.PTF_IDENTIFIER, p.PTF_PRODUCT_ID, p.PTF_LOADED_STATUS,
       o.LIBRARY_NAME, o.OBJECT_NAME, o.OBJECT_TYPE
FROM QSYS2.PTF_INFO p
LEFT JOIN QSYS2.PTF_OBJECT o ON p.PTF_IDENTIFIER = o.PTF_IDENTIFIER
WHERE p.PTF_IDENTIFIER = 'SI82745'
```

### PTFs with Requisite Chain

```sql
SELECT p.PTF_IDENTIFIER, p.PTF_LOADED_STATUS,
       r.REQUISITE_PTF_ID, r.REQUISITE_TYPE, r.REQUISITE_LOADED_STATUS
FROM QSYS2.PTF_INFO p
LEFT JOIN QSYS2.PTF_REQUISITE r ON p.PTF_IDENTIFIER = r.PTF_IDENTIFIER
WHERE p.PTF_PRODUCT_ID = '5770SS1'
  AND p.PTF_LOADED_STATUS = 'LOADED'
```

### Product PTF Summary

```sql
SELECT PTF_PRODUCT_ID,
       SUM(CASE WHEN PTF_LOADED_STATUS = 'PERMANENTLY APPLIED' THEN 1 ELSE 0 END) AS PERM_APPLIED,
       SUM(CASE WHEN PTF_LOADED_STATUS = 'APPLIED' THEN 1 ELSE 0 END) AS TEMP_APPLIED,
       SUM(CASE WHEN PTF_LOADED_STATUS = 'LOADED' THEN 1 ELSE 0 END) AS LOADED,
       SUM(CASE WHEN PTF_LOADED_STATUS = 'SUPERSEDED' THEN 1 ELSE 0 END) AS SUPERSEDED,
       COUNT(*) AS TOTAL
FROM QSYS2.PTF_INFO
GROUP BY PTF_PRODUCT_ID
ORDER BY PTF_PRODUCT_ID
```

### PTF with Objects and Prerequisites

```sql
SELECT
    p.PTF_IDENTIFIER,
    p.PTF_LOADED_STATUS,
    COUNT(DISTINCT o.OBJECT_NAME) AS OBJECT_COUNT,
    COUNT(DISTINCT r.REQUISITE_PTF_ID) AS PREREQ_COUNT
FROM QSYS2.PTF_INFO p
LEFT JOIN QSYS2.PTF_OBJECT o ON p.PTF_IDENTIFIER = o.PTF_IDENTIFIER
LEFT JOIN QSYS2.PTF_REQUISITE r ON p.PTF_IDENTIFIER = r.PTF_IDENTIFIER
WHERE p.PTF_PRODUCT_ID = '5770SS1'
GROUP BY p.PTF_IDENTIFIER, p.PTF_LOADED_STATUS
ORDER BY PREREQ_COUNT DESC
FETCH FIRST 20 ROWS ONLY
```

---

## System Health Queries

### PTFs Needing Attention

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, PTF_LOADED_STATUS, PTF_ACTION_PENDING
FROM QSYS2.PTF_INFO
WHERE PTF_ACTION_PENDING <> 'NONE'
   OR PTF_IPL_REQUIRED = 'YES'
   OR PTF_LOADED_STATUS = 'LOADED'
ORDER BY PTF_PRODUCT_ID, PTF_IDENTIFIER
```

### IPL Required Summary

```sql
SELECT
    SUM(CASE WHEN PTF_IPL_REQUIRED = 'YES' THEN 1 ELSE 0 END) AS IPL_REQUIRED,
    SUM(CASE WHEN PTF_ACTION_PENDING <> 'NONE' THEN 1 ELSE 0 END) AS ACTIONS_PENDING,
    SUM(CASE WHEN PTF_LOADED_STATUS = 'LOADED' THEN 1 ELSE 0 END) AS NOT_APPLIED
FROM QSYS2.PTF_INFO
```

### Damaged PTFs

```sql
SELECT PTF_IDENTIFIER, PTF_PRODUCT_ID, PTF_STATUS_TIMESTAMP
FROM QSYS2.PTF_INFO
WHERE PTF_LOADED_STATUS = 'DAMAGED'
```

---

## Shell Script Usage

```sh
#!/QOpenSys/usr/bin/ksh

# Basic query
db2 "SELECT PTF_IDENTIFIER, PTF_LOADED_STATUS FROM QSYS2.PTF_INFO WHERE PTF_PRODUCT_ID = '5770SS1'"

# Query with output to file
db2 "SELECT * FROM QSYS2.PTF_INFO" > /tmp/ptf_list.txt

# Get table columns
db2 "SELECT COLUMN_NAME, DATA_TYPE FROM QSYS2.SYSCOLUMNS WHERE TABLE_SCHEMA = 'QSYS2' AND TABLE_NAME = 'PTF_INFO'"

# Count PTFs
db2 "SELECT COUNT(*) FROM QSYS2.PTF_INFO WHERE PTF_PRODUCT_ID = '5770SS1'"
```

---

## CL Commands Reference

For completeness, equivalent CL commands:

```
DSPPTF LICPGM(5770SS1) SELECT(SI82745) PTFOBJ(*YES) OUTPUT(*PRINT)
DSPPTF LICPGM(5770SS1) SELECT(SI82745) COVER(*YES) OUTPUT(*PRINT)
DSPPTF LICPGM(5770SS1) SELECT(*ALL) RLS(*ALL) OUTPUT(*PRINT)
WRKPTFGRP
DSPSAVF FILE(QGPL/QSI82745J1)
```

Shell execution:
```sh
system "DSPPTF LICPGM(5770SS1) SELECT(SI82745) PTFOBJ(*YES) OUTPUT(*PRINT)"
system "CPYSPLF FILE(QPDSPPTF) TOFILE(*TOSTMF) TOSTMF('/tmp/output.txt') SPLNBR(*LAST)"
```

---

## Notes

- All queries target `QSYS2` schema (IBM i SQL Services)
- Column names may vary slightly between OS releases
- Use schema discovery queries to verify current structure
- `FETCH FIRST n ROWS ONLY` limits output for large tables
- Some views require `*ALLOBJ` or specific authorities
